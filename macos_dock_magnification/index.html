<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="./style.css" />
	</head>
	<body>
		<!-- Tutorial: https://youtu.be/ULMksUfcUsk -->

		<div class="glass">
			<ul class="dock">
				<li>ğŸ˜ƒ</li>
				<li>ğŸ˜Š</li>
				<li>ğŸ˜œ</li>
				<li>ğŸ˜</li>
				<li>ğŸ¤©</li>
				<li>ğŸ¥³</li>
				<li>ğŸ¥¶</li>
			</ul>
		</div>
		<script type="text/javascript">
			document.querySelectorAll('.dock li').forEach(li => {
				li.addEventListener('click', e => {
					// e.currentTarget.classList.add('loading')
					e.currentTarget.classList.toggle('loading')
				})

				li.addEventListener('mousemove', e => {
					let item = e.target
					// liçš„å®½åº¦
					let itemRect = item.getBoundingClientRect()
					// é¼ æ ‡ç§»åŠ¨åˆ°å·¦è¾¹,offset=0,å³è¾¹offect=1 
					let offset = Math.abs(e.clientX - itemRect.left) / itemRect.width
					// è·å–é¼ æ ‡æŒ‡å‘å›¾æ ‡çš„å‰ä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªå›¾æ ‡li)
					let prev = item.previousElementSibling || null
					let next = item.nextElementSibling || null

					let scale = 0.6



					resetScale()

					if (prev) {
						prev.style.setProperty('--scale', 1 + scale * Math.abs(offset - 1))
					}

					item.style.setProperty('--scale', 1 + scale)

					if (next) {
						next.style.setProperty('--scale', 1 + scale * offset)
					}
				})
			})

			// å½“é¼ æ ‡ç¦»å¼€dockçš„æ—¶å€™
			document.querySelector('.dock').addEventListener('mouseleave', e => {
				resetScale()
			})

			// é‡ç½®scaleä¸º1
			function resetScale() {
				document.querySelectorAll('.dock li').forEach(li => {
					li.style.setProperty('--scale', 1)
				})
			}
		</script>
	</body>
</html>
